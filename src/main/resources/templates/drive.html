<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AlbAlbCar</title>
    <link rel="stylesheet" href="../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}">
    <link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}">
    <link rel="stylesheet" href="http://inzynierka.ct8.pl/css/datepicker.min.css">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3">
    <a class="navbar-brand ml-3 ml-md-5" href="#"><div class="car">ðŸš—â€”</div>AlbAlbCar</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-center" id="collapsibleNavbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link text-center" href="new-ride">Nowa trasa</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-center" href="drive">Szukaj trasy</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-center" href="your-rides">Twoje trasy</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-center" href="endpoints/logout">Wyloguj (login123)</a>
            </li>
        </ul>
    </div>
</nav>

<main class="container py-5">
	<h2 class="text-center">ðŸš— AlbAlbCar</h2>
	<p class="text-center">I podrÃ³Å¼ staje siÄ™ lepsza..</p>

	<form action="/search-trip" method="post" id="albalbcar-form" class="text-center mt-5 py-4 px-2">
		<h4 class="mb-4">ZnajdÅº swÃ³j przejazd!</h4>
		<p class="mb-0">SkÄ…d ruszasz?</p>
		<select class="custom-select" name="assembly_place">
            <option id="assembly_place" th:each="city : ${cities}" th:value="${city.id}" th:text="${city.cityName}" th:selected="${city.id==selected1}"></option>
		</select>
		<p class="mt-3 mb-0">DokÄ…d jedziesz?</p>
		<select class="custom-select" name="destination_place">
			<option id="destination_place" th:each="city : ${cities}" th:value="${city.id}" th:text="${city.cityName}" th:selected="${city.id==selected2}"></option>
		</select>
		<p class="mt-3 mb-0">Od ktÃ³rej szukasz przejazdu?</p>
		<input id="start-time" type="text" name="departure_datetime" class="text-center" readonly th:value="${selectedDate}" />
		<div id="start-time-calendar" data-timepicker="true" data-language='en'></div>
		<input type="submit" class="d-block mx-auto btn btn-dark mt-3" value="Szukaj!">
	</form>

	<div id="rides" class="mt-5">
		<div class="ride d-flex flex-column flex-md-row" th:each="ride : ${rides}">
			<div class="left-col d-flex flex-column">
				<h3 th:text="${ride.rideDate}"></h3>
				<p th:text="${ride.driver.login}"></p>
				<p class="font-weight-bold" th:each="city : ${ride.cities}" th:text="${city.city.cityName+' '+city.price+' zl '+city.delay+' min'}"></p>
				<p th:text="${'Wolnych miejsc: '+freeSeats}"></p>
			</div>
			<div class="right-col d-flex flex-column justify-content-around align-items-end">
				<h4 th:text="${price}"></h4>
				<button class="d-block mx-auto btn btn-dark mt-3" onclick="">Rezerwuj</button>
			</div>
		</div>
	</div>
</main>

<script src="https://code.jquery.com/jquery-3.3.1.min.js" ></script>
<script src="http://inzynierka.ct8.pl/js/datepicker.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" ></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script th:src="@{js/script.js}"></script>

<footer class="bg-dark">
<p class="text-light py-4 text-center mb-0">&copy; AlbAlbCar</p>
</footer>
</body>
</html>
